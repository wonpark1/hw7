{% extends 'base.html' %} {% load static %} {% block content %}
<link rel="stylesheet" href="{% static 'css/main/main_page.css' %}" />
<main class="mp-wrapper">
  <section class="category-nav">
    <ul class="category-grid">
      <li class="on">인기신상랭킹</li>
      <li>입점특가</li>
      <li>간편한끼</li>
      <li>요즘간식</li>

      <li>주방·리빙</li>
      <li>뷰티</li>
      <li>패션·잡화</li>
    </ul>
  </section>

  <section class="body-layout">
    <aside class="filter">
      <header class="filter-top">
        <h3>필터</h3>

        <button type="button" class="reset">
          <svg class="ico" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6">
            <path
              d="M2.56391 4.70684C2.21968 4.60992 1.93895 4.42026 1.72172 4.13786C1.50449 3.85546 1.39587 3.53045 1.39587 3.16283C1.39587 2.97233 1.42762 2.79103 1.49112 2.61891C1.55462 2.4468 1.64485 2.28889 1.76182 2.14518C1.79859 2.10508 1.8437 2.08419 1.89718 2.08252C1.95065 2.08085 1.99911 2.10174 2.04255 2.14518C2.07932 2.18194 2.09853 2.22706 2.1002 2.28053C2.10187 2.33401 2.08433 2.38414 2.04757 2.43092C1.96736 2.53453 1.90553 2.64816 1.86208 2.77181C1.81864 2.89546 1.79692 3.0258 1.79692 3.16283C1.79692 3.43353 1.87629 3.67499 2.03503 3.88721C2.19378 4.09943 2.39848 4.24397 2.64913 4.32083C2.69258 4.3342 2.7285 4.35927 2.75691 4.39603C2.78532 4.43279 2.79952 4.4729 2.79952 4.51634C2.79952 4.58318 2.77613 4.63582 2.72934 4.67425C2.68255 4.71268 2.62741 4.72355 2.56391 4.70684ZM3.43617 4.70684C3.37268 4.72355 3.31753 4.71185 3.27074 4.67175C3.22396 4.63164 3.20056 4.57817 3.20056 4.51133C3.20056 4.47122 3.21477 4.43279 3.24317 4.39603C3.27158 4.35927 3.30751 4.3342 3.35095 4.32083C3.6016 4.24063 3.8063 4.09525 3.96505 3.8847C4.12379 3.67415 4.20317 3.43353 4.20317 3.16283C4.20317 2.82862 4.0862 2.54455 3.85225 2.31061C3.61831 2.07667 3.33424 1.9597 3.00004 1.9597H2.985L3.06521 2.03991C3.10197 2.07667 3.12035 2.12346 3.12035 2.18027C3.12035 2.23709 3.10197 2.28388 3.06521 2.32064C3.02845 2.3574 2.98166 2.37578 2.92485 2.37578C2.86803 2.37578 2.82124 2.3574 2.78448 2.32064L2.36339 1.89954C2.34334 1.87949 2.32913 1.85777 2.32078 1.83438C2.31242 1.81098 2.30824 1.78592 2.30824 1.75918C2.30824 1.73244 2.31242 1.70738 2.32078 1.68398C2.32913 1.66059 2.34334 1.63887 2.36339 1.61882L2.78448 1.19772C2.82124 1.16096 2.86803 1.14258 2.92485 1.14258C2.98166 1.14258 3.02845 1.16096 3.06521 1.19772C3.10197 1.23448 3.12035 1.28127 3.12035 1.33809C3.12035 1.3949 3.10197 1.44169 3.06521 1.47845L2.985 1.55866H3.00004C3.44787 1.55866 3.82719 1.71406 4.138 2.02487C4.4488 2.33568 4.60421 2.715 4.60421 3.16283C4.60421 3.52711 4.49559 3.85128 4.27836 4.13535C4.06113 4.41942 3.7804 4.60992 3.43617 4.70684Z"
              fill="currentColor"
            />
          </svg>
          <span>초기화</span>
        </button>
      </header>
    
      <details open class="filter-wrap">
        <summary>카테고리</summary>
        <ul>
          <li>
            <label>
        <!-- data-count에 숫자만 넣음 -->
        <input type="checkbox"
               data-category="스킨케어·메이크업"
               data-count="68" />
        스킨케어·메이크업 <em>68</em>
      </label>
    </li>
    <li>
      <label>
        <input type="checkbox"
               data-category="럭셔리뷰티"
               data-count="40" />
        럭셔리뷰티 <em>40</em>
      </label>
    </li>
    <li>
      <label>
        <input type="checkbox"
               data-category="간식·과자·떡"
               data-count="28" />
        간식·과자·떡 <em>28</em>
      </label>
    </li>
  </ul>
</details>
    </aside>

    <section class="prod-zone">
      <header class="sorting-bar">
        <strong class="total">
          총&nbsp;<span id="total-count"></span>건
           <!--        ↑ 처음엔 공백 → JS가 숫자를 넣음 -->
        </strong>
        <nav class="sort">
          <a href="#" class="on">추천순</a>
          <a href="#">신상품순</a>
          <a href="#">판매량순</a>
          <a href="#">혜택순</a>
          <a href="#">낮은 가격순</a>
          <a href="#">높은 가격순</a>
        </nav>
      </header>
      <div id="selected-filter-tags-container" class="selected-filter-tags-wrapper">
        </div>
      <ul class="prod-grid">
        {% for product in products %}
        <li class="card">
          <a href="{% url 'main:product_detail' product.id %}">
  <figure class="thumb">
  <img
    src="{% static 'assets/img/milk.png' %}"
    alt="{{ product.name }}"
    width="262"
    height="320"
  />
  </figure>
</a>

          <button type="button" class="btn-cart">
            {% comment %}장바구니 SVG 그대로 가져옴{% endcomment %}
            <svg
              class="cart-ico"
              xmlns="http://www.w3.org/2000/svg"
              width="5.775"
              height="5.775"
              viewBox="0 0 7 7"
              fill="none"
            >
              <g clip-path="url(#clip0)">
                <path
                  d="M2.18594 6.25C2.05359 6.25 1.9403 6.20288 1.84605 6.10863C1.75181 6.01439 1.70469 5.90109 1.70469 5.76875C1.70469 5.63641 1.75181 5.52311 1.84605 5.42887C1.9403 5.33462 2.05359 5.2875 2.18594 5.2875C2.31828 5.2875 2.43158 5.33462 2.52582 5.42887C2.62007 5.52311 2.66719 5.63641 2.66719 5.76875C2.66719 5.90109 2.62007 6.01439 2.52582 6.10863C2.43158 6.20288 2.31828 6.25 2.18594 6.25ZM4.59219 6.25C4.45984 6.25 4.34655 6.20288 4.2523 6.10863C4.15806 6.01439 4.11094 5.90109 4.11094 5.76875C4.11094 5.63641 4.15806 5.52311 4.2523 5.42887C4.34655 5.33462 4.45984 5.2875 4.59219 5.2875C4.72453 5.2875 4.83783 5.33462 4.93207 5.42887C5.02632 5.52311 5.07344 5.63641 5.07344 5.76875C5.07344 5.90109 5.02632 6.01439 4.93207 6.10863C4.83783 6.20288 4.72453 6.25 4.59219 6.25ZM1.98141 2.4L2.55891 3.60312H4.24328L4.905 2.4H1.98141ZM1.75281 1.91875H5.30203C5.39427 1.91875 5.46445 1.95986 5.51258 2.04207C5.5607 2.12428 5.56271 2.2075 5.51859 2.29172L4.66438 3.83172C4.62026 3.91193 4.56111 3.97409 4.48691 4.0182C4.41272 4.06232 4.33151 4.08437 4.24328 4.08437H2.45063L2.18594 4.56562H4.83281C4.90099 4.56562 4.95814 4.58868 5.00426 4.6348C5.05038 4.68092 5.07344 4.73807 5.07344 4.80625C5.07344 4.87443 5.05038 4.93158 5.00426 4.9777C4.95814 5.02382 4.90099 5.04687 4.83281 5.04687H2.18594C2.00547 5.04687 1.86911 4.96767 1.77688 4.80926C1.68464 4.65085 1.68063 4.49344 1.76484 4.33703L2.08969 3.7475L1.22344 1.91875H0.982813C0.914635 1.91875 0.857487 1.89569 0.811367 1.84957C0.765247 1.80345 0.742188 1.7463 0.742188 1.67812C0.742188 1.60995 0.765247 1.5528 0.811367 1.50668C0.857487 1.46056 0.914635 1.4375 0.982813 1.4375H1.37383C1.41794 1.4375 1.46005 1.44953 1.50016 1.47359C1.54026 1.49766 1.57034 1.53174 1.59039 1.57586L1.75281 1.91875Z"
                  fill="#333333"
                />
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect
                    width="5.775"
                    height="5.775"
                    transform="translate(0.501587 0.956299)"
                    fill="white"
                  />
                </clipPath>
              </defs>
            </svg>

            <span>담기</span>
          </button>

          <div class="info">
            <p class="ship">샛별배송</p>
            <p class="name">{{ product.name }}</p>
            <p class="desc">{{ product.description }}</p>

             <div class="price-box">
        {% if product.discount_rate %}
          
            <span class="del">{{ product.origin_price }} 원</span>
            <span class="discount-info">
              <span class="rate">{{ product.discount_rate }} %</span>
              <span class="sale">{{ product.discount_price }} 원</span>
            </span>
          {% else %}
          <span class="sale">{{ product.origin_price }} 원</span>
        {% endif %}
      </div>
    </li>
  {% empty %}
    <li class="card">
      <p>상품이 없습니다.</p>
    </li>
  {% endfor %}
</ul>
    </section>
    <!-- /prod-zone -->
  </section>
  <!-- /body-layout -->
</main>

<!— js 파일 —>
<script src="{% static 'js/main/main_page.js' %}" defer></script>
{% endblock %}